<!DOCTYPE html>
<title>Content Tests</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" href="../favicon.ico">
<link rel="stylesheet" type="text/css" href="../site.css?update=2014-01-07">
<script src="../lib/polyfill/polyfill.min.js?update=2014-09-08"></script>
<script src="../lib/polyfill/es6.js?update=2014-09-08"></script>
<script src="../lib/polyfill/url.js?update=2014-09-08"></script>
<script src="../lib/polyfill/experimental/fetch.js?update=2014-09-08"></script>

<style>
tbody#results td,
tbody#results th { width: 256px; overflow: hidden; }
tbody#results td { vertical-align: top; padding: 0; }
tbody#results textarea { margin: 0; border: 0;
                         height: 256px;
                         width: 256px;
                         white-space: pre;
                         overflow: scroll; }
tbody#results tr.pass td { border: 1px solid green; }
tbody#results tr.fail td { border: 1px solid red; }

</style>
<h1>The Traveller Map - Content Reference Tests</h1>
<div class="content">
  <section>
    <p>
    This page compares reference text content  (left) with content fetched from <a href="../doc/api">APIs</a> (middle) to check for
    unintentionally introduced differences (right). The first row is intentionally incorrect, and shows what would happen if coordinates were
    calculated incorrectly. All other rows should have no differences. <b>&Omega;</b>
    </p>
  </section>
  <section>
    <table>
      <tbody id="results">
        <tr>
          <th>Reference Content</th>
          <th>Actual Content</th>
          <th>Diff (empty = good)</th>
        </tr>
      </tbody>
    </table>
  </section>
</div>

<script src="ContentTest.js"></script>
<script>

  var SERVICE_BASE = (function(l) {
    'use strict';
    if (l.hostname === 'localhost' && l.pathname.indexOf('~') !== -1)
      return 'http://travellermap.com';
    return '';
  }(window.location));

check('application/json', 'refs/data_spin_1910.json', SERVICE_BASE + '/data/spin/1910');
check('text/xml', 'refs/data_spin_1910.xml', SERVICE_BASE + '/data/spin/1910');

</script>
